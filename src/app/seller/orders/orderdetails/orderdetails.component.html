<div class="card mt-5 mx-4" >
    <h2 class="mt-3 text-center text-decoration-underline">Order Details :</h2>
    <div class="row " style="height: 70px;">
        <h4 class="text-secondary mt-4 ms-4">Order-Id : {{ProductData?._id}} </h4>

    </div>
    <div class="card-body">
      
        <div class="row">
        <div class="col-md-8 overflow-auto">
          <table class="table table-hover shadow-lg text-center">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">ProductId</th>
                <th scope="col">Name</th>
                <th scope="col">Price</th>
                <th scope="col">Quantity</th>
                <th scope="col">SubTotal</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of ProductData?.items;let index= index" >
                <th scope="row">{{index+1}}</th>
                <td >{{item?.productId}}</td>
                <td>{{item?.name}}</td>
                <td>{{item?.price | changeCurrency : currency}}</td>
                <td>{{item?.qty}}</td>
                <td>{{(item?.price * item?.qty).toString()| changeCurrency : currency}}</td>
              </tr>
             
            </tbody>
          </table>
          <!-- <div *ngIf="(ProductData?.status != 'Cancelled' )" >
  
            <button (click)="confirm()" class="btn btn-primary">Confirm Order</button>
            <button (click)="cancelOrder()"  class="btn btn-danger ms-auto">Cancel Order</button>
          </div> -->
  
        </div>
        <div class="col-md-4">
            <div class="card mb-3" >
            
                <div class="card-body" >
                    <p>
                        <a class="btn w-100 border" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
                            <h5 class="card-title">Summary</h5>
                        </a>
                        
                    </p>
                    <div class="collapse mb-2" id="collapseExample">
                        <div class="card card-body">
                            <div class="row ">
                                <div class="col-6 my-2 fw-bold">Price (All items)</div>
                                <div class="col-6 my-2">: {{ProductData?.total | changeCurrency : currency}}</div>
                                <div class="col-6 my-2 fw-bold">payment Status </div>
                                <div class="col-6 my-2">: {{ ProductData?.paymentStatus}}</div>
                                <div class="col-6 my-2 fw-bold"> Status </div>
                                <div class="col-6 my-2" [ngClass]="{'text-danger': ProductData?.status == 'Cancelled' , 'text-success' : ProductData?.status == 'Delivered','text-warning' : ProductData?.status == 'Dispatched' }">: {{ ProductData?.status}}</div>
                                <div class="col-6 my-2 fw-bold">Delivery Charges </div>
                                <div class="col-6 my-2">: {{ProductData?.deliveryFee | changeCurrency : currency}}</div>
                                <div class="col-6 my-2 fw-bold">Transaction No </div>
                                <div class="col-6 my-2">: {{ProductData?.transactionNo}}</div>
                            </div>                        
                        </div>
                    </div>
                    <p>
                        <a class="btn w-100 border" data-bs-toggle="collapse" href="#collapseExample1" role="button" aria-expanded="false" aria-controls="collapseExample">
                            <h5 class="card-title">Address</h5>
                        </a>
                        
                    </p>
                    <div class="collapse" id="collapseExample1">
                        <div class="card card-body">
                            <div class="row">
                                <div class="col-6 my-2 fw-bold">Street</div>
                                <div class="col-6 my-2">: {{ProductData?.address.street}}</div>
                                <div class="col-6 my-2 fw-bold">AddressLine2</div>
                                <div class="col-6 my-2">: {{ ProductData?.address.addressLine2}}</div>
                                <div class="col-6 my-2 fw-bold"> City</div>
                                <div class="col-6 my-2">: {{ ProductData?.address.city}}</div>
                                <div class="col-6 my-2 fw-bold">State</div>
                                <div class="col-6 my-2">: {{ProductData?.address.state}}</div>
                                <div class="col-6 my-2 fw-bold">Pincode</div>
                                <div class="col-6 my-2">: {{ProductData?.address.pin}}</div>
                            </div>                        
                        </div>
                    </div>
                    <div class="row text-center" *ngIf="ProductData?.status != 'Delivered' && ProductData?.status != 'Cancelled'">
                        <div class="col-md-4">
                            <button (click)="deliver()" *ngIf="ProductData?.status != 'Delivered'" class="btn btn-success">Deliver</button>
                        </div>
                        <div class="col-md-4">
                            <button (click)="dispatch()" *ngIf="ProductData?.status != 'Dispatched'" class="btn btn-warning">Dispatch</button>
                        </div>
                        <div class="col-md-4">
                            <button (click)="cancel()"  class="btn btn-danger">Cancel</button>
                        </div>
                    </div>
                  
                  
                  <!-- <a (click)="PlaceOrder()" class="btn btn-primary">Place Order</a> -->
                </div>
        </div>
      </div>
      
      <a routerLink="/orders/OrderList" class="btn btn-primary">Go to OrderList</a>
    </div>
  </div>




  <!-- <div class="card w-75 mx-auto" >
     <img class="card-img-top" src="..." alt="Card image cap"> 
    <div class="card-body">
      <div class="row">
        <div class="col-md-8">
          <table class="table shadow-lg text-center">
            <thead>
              <tr>
                <th scope="col">#</th>
                 <th scope="col">Img</th> 
                <th scope="col">Name</th>
                <th scope="col">Price</th>
                <th scope="col">Quantity</th>
                <th scope="col">SubTotal</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of res?.items;let index= index" >
                <th scope="row">{{index+1}}</th>
                 <td >{{item?.name}}</td> 
                <td>{{item?.name}}</td>
                <td>{{item?.price}}</td>
                <td>{{item?.qty}}</td>
                <td>{{item?.price * item?.qty}}</td>
              </tr>
             
            </tbody>
          </table>
          <div *ngIf="(res?.status != 'Cancelled' && flag )" >
  
            <button (click)="confirm()" class="btn btn-primary">Confirm Order</button>
            <button (click)="cancelOrder()"  class="btn btn-danger ms-auto">Cancel Order</button>
          </div>
  
        </div>
        <div class="col-md-4">
  
        </div>
      </div>
    </div>
  </div>
   -->