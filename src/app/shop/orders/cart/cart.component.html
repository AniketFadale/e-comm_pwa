
<div class="card mx-2" style="min-height:100px ;" >
    <div class="card-body" >
      <div *ngIf="CartProducts.length == 0" class="text-center text-decoration-underline my-5 " >
       <a routerLink="/shop"> <h2 class="text-dark">
        No Product to Show Please Add Products ?
      </h2></a></div>
      <div class="row">
        <div class="col-md-7">
          
          <div class="row py-4 border border-secondary rounded-2 p-2 my-2 position-relative" *ngFor="let element of CartProducts; let index = index">
            
    
            <div class="col-sm-3 d-flex justify-content-center shadow-lg" >
      
              <img src="{{element?.images[0].url}}" class="card-img-top img-fluid my-3 rounded-2" style="height: 150px; width: auto ;" alt="">
            </div>
            <div class="col-sm-6 p-3">
              <h5 class="card-title">{{element?.name}}</h5>
              <p class="card-text" [innerHTML]="element?.description | slice : 0 : 20 " >...</p>
              <b [ngClass]="{'text-decoration-line-through' : element.deal, 'fst-italic' :element.deal,'fs-6' : element.deal}">{{element?.price | changeCurrency : currency}}</b>
              <span class="fw-normal, fs-5" appDealDirective [deal]="element?.deal" [price]="element?.price" ></span>
            </div>
            <div class="col-sm-3">

              <h5 > Quantity : </h5>
              
              <div class="btn-group btn-group-sm" role="group" aria-label="">
                  <button type="button" (click)="decrement(index)"class="btn btn-danger " style="border-radius: 150px 0px 0px 150px;">-</button>
                  <input type="number" [disabled]="true" min="0" name="Quantity" id="qty" class="form-control border border-info rounded-0" [ngModel]="element?.quantity" style="width: 40px;">
                  <button type="button" (click)="increment(index)"  class="btn btn-success " style="border-radius: 0px 150px 150px 0px ;">+</button>
                </div>
                <div class="row mt-3">
                  <H5>SubTotal :</H5>
                  <p *ngIf="!element?.deal">{{(element?.quantity * element?.price).toString()  | changeCurrency : currency}}</p>
                  <p *ngIf="element?.deal">{{(element?.quantity * element?.deal.price).toString()  | changeCurrency : currency}}</p>
                </div>
            </div>
            <a  (click)="removeElement(index)" class="btn btn-danger ms-auto btn-sm border border-info position-absolute me-2" style=" top:80% ;left:75%;  width: fit-content;">Remove</a>
            
          </div>

        </div>
        <div class="col-md-5">
          
          <div class="card" >
            
            <div class="card-body"  *ngIf="CartProducts.length != 0">

              <h5 class="card-title">Summary</h5>
              <div class="row">
                <div class="col-6 my-2">Price (All items)</div>
                <div class="col-6 my-2">{{Total_price.toString()| changeCurrency : currency}}</div>
                <div class="col-6 my-2">Discount({{(Total_price-WithDiscountPrice)/(Total_price/100) | number :'1.0-0'}}%)</div>
                <div class="col-6 my-2">-{{((Total_price - WithDiscountPrice)).toFixed(2) | changeCurrency : currency }}</div>
                <div class="col-6 my-2">Delivery Charges</div>
                <div class="col-6 my-2">{{ '40' | changeCurrency : currency}}</div>
                <hr>
                <div class="col-6 my-2"><h3>Total Price </h3></div>
                <div class="col-6 my-2">{{ (WithDiscountPrice+ 40).toString() | changeCurrency : currency }}</div>
                <hr><p>You will save <span class="text-success"> {{((Total_price - WithDiscountPrice)).toFixed(2)| changeCurrency : currency}}</span> on this order
                </p>
              </div>
              <a (click)="PlaceOrder()" class="btn btn-primary">Place Order</a>
            </div>
          </div>


        </div>
      </div>
    </div>
  </div>
<!-- <div class="card" style="min-height:100px ;" >
    <div class="card-body">
      <div class="row">

        <div class="col-sm-3 text-center " >
          <div class="row">

            <div class="col-12 d-flex justify-content-center  ">
  
              <img src="http://res.cloudinary.com/abs-am/image/upload/v1658750033/training-api/kipltj0gzsnavy03sswp.jpg" class="card-img-top img-fluid " style="height: 150px; width: auto ;" alt="http://localhost:4200/assets/image/defaultProductimg.png">
            </div>
            
            <div class="col-12">
  
              <label > Name : </label>
              <p>jio phone</p>
            </div>
          </div>
        </div>
        <div class="col-sm-9 bg-info">
          <label > Price : </label>
          <p>500</p>
          <label > Quantity : </label>
          <div class="btn-group btn-group-sm" role="group" aria-label="+ - *">
              <button type="button" class="btn btn-secondary">1</button>
              <input type="number" name="Quantity" id="qty" class="form-control" style="width: 50px;">
              <button type="button" class="btn btn-secondary">3</button>
          </div>
          <p></p>
          <label > SubTotal : </label>
          <p>5000</p>

        </div>

        <h5 class="card-title">Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatem eius voluptate amet?</h5>
        <p class="card-text">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Pariatur unde dicta esse quae cupiditate eaque eveniet, sit at adipisci, perspiciatis quod? Fugiat, laboriosam amet illum veniam doloribus soluta consectetur porro ab unde voluptas, nobis omnis doloremque. Rem fugit quidem praesentium?</p>
        <a   class="btn btn-danger" style="width: fit-content;">Remove</a>
      </div>
    </div>
  </div> -->